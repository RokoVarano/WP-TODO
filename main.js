/* eslint-disable*/
(()=>{"use strict";let e=[];const t=(t,n,d)=>{const a={description:t,completed:n,index:d};return e.push(a),e[e.length-1]},n=()=>{const t=JSON.stringify(e);localStorage.setItem("tasks",t)},d=()=>{const d=document.querySelectorAll(".draggable");let a=0;d.forEach((e=>{e.setAttribute("task",a),a+=1})),e=[],d.forEach((e=>{const d=e.getElementsByClassName("description")[0].textContent,a=e.getElementsByClassName("completed")[0].checked,l=e.getAttribute("task");t(d,a,l),n()}))},a=t=>{const a=document.createElement("li");a.classList.add("draggable"),a.setAttribute("task",t.index),a.draggable=!0;const l=document.getElementsByTagName("ul"),r=document.createElement("div"),c=document.createElement("input");c.classList.add("completed"),c.type="checkbox",c.name="completed",c.addEventListener("click",(()=>{return t=parseInt(a.getAttribute("task"),10),d=c.checked,e.find((e=>e.index===t)).completed=d,void n();var t,d}));const s=document.createElement("p");s.classList.add("description"),s.contentEditable="true",s.textContent=t.description,s.addEventListener("input",(()=>{return t=parseInt(a.getAttribute("task"),10),d=s.textContent,e.find((e=>e.index===t)).description=d,void n();var t,d})),r.appendChild(c),r.appendChild(s),a.appendChild(r);const i=document.createElement("i");return i.classList.add("fas","fa-trash-alt"),i.addEventListener("click",(()=>{l.removeChild(a),d()})),a.addEventListener("dragstart",(()=>{a.classList.add("flying")})),a.addEventListener("dragover",(e=>((e,t)=>{t.preventDefault(),e.classList.add("dragover")})(a,e))),a.addEventListener("dragleave",(()=>{a.classList.remove("dragover")})),a.addEventListener("drop",(()=>{(e=>{const t=document.querySelector(".flying");e.before(t),d(),e.classList.remove("dragover")})(a)})),a.addEventListener("dragend",(()=>{a.classList.remove("flying")})),a.appendChild(i),a};(l=>{const r=document.querySelector("ul");r.appendChild((()=>{const e=document.createElement("li");e.id="title-box";const t=document.createElement("p");t.textContent="Today's To Do";const n=document.createElement("i");return n.classList.add("fas","fa-sync-alt"),n.id="refresh",e.appendChild(t),e.appendChild(n),e})()),r.appendChild((()=>{const d=document.createElement("li");d.id="new-item-box";const l=document.createElement("input");return l.type="text",l.placeholder="Add to your list...",l.id="new-item",l.addEventListener("keydown",(d=>{if("Enter"===d.key){(d=>{let a=0;e.length>0&&(a=e[e.length-1].index+1),t(d,!1,a),n()})(l.value),r.appendChild(a(e[e.length-1]));const d=document.getElementById("clear");r.appendChild(d),l.value=""}})),d.appendChild(l),d})()),l.sort(((e,t)=>e.index>t.index?1:-1)),l.forEach((e=>r.appendChild(a(e)))),r.appendChild((()=>{const e=document.createElement("li");return e.textContent="Clear all completed",e.id="clear",e.addEventListener("click",(()=>{const e=[...document.querySelectorAll(".draggable")],t=e.filter((e=>!1===e.getElementsByClassName("completed")[0].checked));e.forEach((e=>r.removeChild(e))),t.forEach((e=>r.appendChild(e))),d();const n=document.getElementById("clear");r.appendChild(n)})),e})())})((()=>{let t=JSON.parse(localStorage.getItem("tasks"));return null==t&&(t=[]),e=t,e})())})();
/* eslint-enable */